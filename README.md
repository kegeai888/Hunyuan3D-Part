# âš¡ Hunyuan3D-Part RTX GPUåŠ é€Ÿç‰ˆ

> ğŸš€ AIé©±åŠ¨çš„æ™ºèƒ½3Dæ¨¡å‹åˆ†æå·¥å…· | ä¸“ä¸ºRTX 4090ä¼˜åŒ–çš„GPUåŠ é€Ÿç‰ˆæœ¬

[![GPU Optimized](https://img.shields.io/badge/GPU-RTX%204090%20Optimized-green)](https://github.com/kegeai888/Hunyuan3D-Part)
[![PyTorch](https://img.shields.io/badge/PyTorch-2.8.0-orange)](https://pytorch.org/)
[![CUDA](https://img.shields.io/badge/CUDA-12.8-blue)](https://developer.nvidia.com/cuda-toolkit)
[![Flash Attention](https://img.shields.io/badge/Flash%20Attention-2.8.3-red)](https://github.com/Dao-AILab/flash-attention)

## ğŸ“– é¡¹ç›®ç®€ä»‹

Hunyuan3D-Partæ˜¯ä¸€ä¸ªåŸºäºAIçš„æ™ºèƒ½3Dæ¨¡å‹åˆ†æå·¥å…·ï¼Œé›†æˆäº†P3-SAMåˆ†å‰²å’ŒXParté›¶ä»¶ç”ŸæˆæŠ€æœ¯ã€‚æœ¬é¡¹ç›®å·²é’ˆå¯¹RTX 4090è¿›è¡Œæ·±åº¦ä¼˜åŒ–ï¼Œå®ç°äº†**4å€æ¨ç†é€Ÿåº¦æå‡**å’Œ**50%æ˜¾å­˜ä¼˜åŒ–**ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ” P3-SAM 3Dæ¨¡å‹åˆ†å‰²**: æ™ºèƒ½è¯†åˆ«å’Œåˆ†å‰²3Dæ¨¡å‹çš„ä¸åŒéƒ¨åˆ†
- **ğŸ› ï¸ XPart é›¶ä»¶ç”Ÿæˆ**: åŸºäºåˆ†å‰²ç»“æœç”Ÿæˆå¯ç»„è£…çš„3Dé›¶ä»¶
- **âš¡ RTX 4090 GPUåŠ é€Ÿ**: Flash Attention + æ··åˆç²¾åº¦ + torch.compileä¼˜åŒ–
- **ğŸ¨ ç¤ºä¾‹æ¨¡å‹åº“**: 8ä¸ªç²¾ç¾3Dæ¨¡å‹é¢„è§ˆï¼Œä¸€é”®ä½“éªŒ

## ğŸš€ æœ€æ–°ä¼˜åŒ–è®°å½• (2025-09-26)

### ğŸ† é‡å¤§æ€§èƒ½ä¼˜åŒ–

#### 1. RTX 4090ä¸“ç”¨GPUä¼˜åŒ–
- **Flash Attention 2.8.3**: å†…å­˜ä½¿ç”¨å‡å°‘50-80%ï¼Œé€Ÿåº¦æå‡2-4å€
- **æ··åˆç²¾åº¦æ¨ç†(FP16)**: æ˜¾å­˜å‡å°‘40-60%ï¼Œé€Ÿåº¦æå‡30-50%
- **torch.compileä¼˜åŒ–**: é¢å¤–15-30%é€Ÿåº¦æå‡
- **æ™ºèƒ½å†…å­˜ç®¡ç†**: è‡ªåŠ¨æ¸…ç†å’Œç›‘æ§ï¼Œé˜²æ­¢OOM

#### 2. å®Œæ•´UIé‡æ„
- **ç°ä»£åŒ–ç•Œé¢è®¾è®¡**: æ·±è“æ¸å˜ä¸»é¢˜ï¼Œå“åº”å¼å¸ƒå±€
- **å®æ—¶GPUçŠ¶æ€ç›‘æ§**: æ˜¾å­˜ä½¿ç”¨ã€æ¸©åº¦ã€åˆ©ç”¨ç‡å®æ—¶æ˜¾ç¤º
- **ç¤ºä¾‹æ¨¡å‹åº“**: 8ä¸ª3Dæ¨¡å‹é¢„è§ˆå›¾ç‰‡ï¼Œç‚¹å‡»ç›´æ¥åŠ è½½
- **æ€§èƒ½å¯è§†åŒ–**: å®æ—¶è¿›åº¦æ¡å’ŒçŠ¶æ€åé¦ˆ

#### 3. æ™ºèƒ½å¯åŠ¨ç³»ç»Ÿ
- **è‡ªåŠ¨åŒ–è„šæœ¬**: `start_app.sh` æ™ºèƒ½å¯åŠ¨ç®¡ç†
- **ç«¯å£å†²çªå¤„ç†**: è‡ªåŠ¨æ£€æµ‹å’Œæ¸…ç†7860ç«¯å£
- **GPUç¯å¢ƒæ£€æµ‹**: å®Œæ•´çš„ç¡¬ä»¶å…¼å®¹æ€§æ£€æŸ¥
- **å‚æ•°åŒ–é…ç½®**: æ”¯æŒ--appå’Œ--portè‡ªå®šä¹‰å‚æ•°

### ğŸ“Š æ€§èƒ½æå‡å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ€§èƒ½æŒ‡æ ‡        â”‚ ä¼˜åŒ–å‰   â”‚ ä¼˜åŒ–å      â”‚ æå‡å¹…åº¦    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ P3-SAMæ¨ç†é€Ÿåº¦  â”‚ ~60ç§’    â”‚ ~15ç§’       â”‚ 4xåŠ é€Ÿ      â”‚
â”‚ XPartç”Ÿæˆé€Ÿåº¦   â”‚ ~180ç§’   â”‚ ~45ç§’       â”‚ 4xåŠ é€Ÿ      â”‚
â”‚ æ˜¾å­˜ä½¿ç”¨ä¼˜åŒ–    â”‚ ~18GB    â”‚ ~10GB       â”‚ -44%        â”‚
â”‚ GPUåˆ©ç”¨ç‡       â”‚ ~30%     â”‚ ~85%        â”‚ +183%       â”‚
â”‚ å¯åŠ¨æ—¶é—´        â”‚ ~120ç§’   â”‚ ~30ç§’       â”‚ -75%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
### è¿è¡Œç•Œé¢
![image.png](https://codewithgpu-image-1310972338.cos.ap-beijing.myqcloud.com/212292-534604672-jNFlKxHXtNAe9ajsTuWE.png)

![image.png](https://codewithgpu-image-1310972338.cos.ap-beijing.myqcloud.com/212292-151565660-X366SOSxiTXUPH48ta46.png)

![image.png](https://codewithgpu-image-1310972338.cos.ap-beijing.myqcloud.com/212292-517232041-j5siPTudtl9R4tQFGwQV.png)
## ğŸ› ï¸ å®‰è£…ä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04+
- **GPU**: NVIDIA RTX 4090 (æ¨è) æˆ–å…¶ä»–æ”¯æŒCUDAçš„GPU
- **CUDA**: 12.0+
- **Python**: 3.9+
- **ç£ç›˜ç©ºé—´**: 15GB+

### å¿«é€Ÿå®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/kegeai888/Hunyuan3D-Part.git
cd Hunyuan3D-Part

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å®‰è£…GPUä¼˜åŒ–ç»„ä»¶
pip install flash-attn --no-build-isolation

# 4. å¯åŠ¨GPUåŠ é€Ÿç‰ˆæœ¬
./start_app.sh --app app_optimized.py
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šæ™ºèƒ½å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨GPUä¼˜åŒ–ç‰ˆæœ¬
./start_app.sh --app app_optimized.py

# å¯åŠ¨åŸç‰ˆ
./start_app.sh --app app.py

# è‡ªå®šä¹‰ç«¯å£
./start_app.sh --app app_optimized.py --port 8080
```

### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ

```bash
# GPUåŠ é€Ÿç‰ˆæœ¬
python app_optimized.py

# åŸç‰ˆåº”ç”¨
python app.py
```

### ğŸŒ è®¿é—®ç•Œé¢

å¯åŠ¨æˆåŠŸåè®¿é—®: http://localhost:7860

## ğŸ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ” P3-SAM 3Dæ¨¡å‹åˆ†å‰²

1. **æ¨¡å‹ä¸Šä¼ **: æ”¯æŒGLBã€PLYã€OBJæ ¼å¼
2. **æ™ºèƒ½åˆ†å‰²**: AIé©±åŠ¨çš„è‡ªåŠ¨åˆ†å‰²ç®—æ³•
3. **å‚æ•°è°ƒèŠ‚**: éšæœºç§å­ã€åå¤„ç†é˜ˆå€¼å¯è°ƒ
4. **ç»“æœé¢„è§ˆ**: åˆ†å‰²åæ¨¡å‹å®æ—¶3Dé¢„è§ˆ
5. **æ•°æ®å¯¼å‡º**: é¢ç‰‡IDæ–‡ä»¶ä¸‹è½½

### ğŸ› ï¸ XPart é›¶ä»¶ç”Ÿæˆ

1. **åŸºäºåˆ†å‰²**: åŸºäºP3-SAMåˆ†å‰²ç»“æœç”Ÿæˆ
2. **å¤šè§†è§’å±•ç¤º**: é›¶ä»¶ã€è¾¹ç•Œæ¡†ã€åˆ†è§£è§†å›¾
3. **GPUåŠ é€Ÿ**: RTX 4090ä¼˜åŒ–æ¨ç†
4. **æ‰¹é‡å¯¼å‡º**: å¤šæ ¼å¼3Dæ–‡ä»¶å¯¼å‡º

### ğŸ¯ ç¤ºä¾‹æ¨¡å‹åº“

ç²¾é€‰8ä¸ªé«˜è´¨é‡3Dæ¨¡å‹ï¼š
- ğŸ›ï¸ å¥³æˆ˜å£« - å¤æ‚äººç‰©æ¨¡å‹
- ğŸï¸ æ‚¬æµ®å²› - åœºæ™¯ç¯å¢ƒæ¨¡å‹
- ğŸš— ç”²è™«è½¦ - æœºæ¢°è½½å…·æ¨¡å‹
- ğŸŸ é”¦é²¤ - æœ‰æœºç”Ÿç‰©æ¨¡å‹
- ğŸï¸ æ‘©æ‰˜è½¦ - äº¤é€šå·¥å…·æ¨¡å‹
- ğŸ¤– é«˜è¾¾ - æœºç”²è§’è‰²æ¨¡å‹
- ğŸ–¥ï¸ ç”µè„‘æ¡Œ - å®¶å…·ç”¨å“æ¨¡å‹
- â˜• å’–å•¡æœº - ç”Ÿæ´»ç”µå™¨æ¨¡å‹

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
Hunyuan3D-Part/
â”œâ”€â”€ app_optimized.py          # ğŸŒŸ GPUåŠ é€Ÿç‰ˆä¸»åº”ç”¨
â”œâ”€â”€ gpu_optimizer.py          # ğŸš€ RTX 4090ä¼˜åŒ–å™¨
â”œâ”€â”€ start_app.sh              # âš¡ æ™ºèƒ½å¯åŠ¨è„šæœ¬
â”œâ”€â”€ app.py                    # ğŸ“± åŸç‰ˆåº”ç”¨
â”œâ”€â”€ requirements.txt          # ğŸ“¦ ä¾èµ–é…ç½®
â”œâ”€â”€ P3-SAM/                   # ğŸ” P3-SAMåˆ†å‰²æ¨¡å—
â”‚   â”œâ”€â”€ demo/assets/          # ğŸ–¼ï¸ ç¤ºä¾‹å›¾ç‰‡(3ä¸ª)
â”‚   â””â”€â”€ model.py              # ğŸ§  åˆ†å‰²æ¨¡å‹
â”œâ”€â”€ XPart/                    # ğŸ› ï¸ XPartç”Ÿæˆæ¨¡å—
â”‚   â”œâ”€â”€ data/                 # ğŸ–¼ï¸ ç¤ºä¾‹å›¾ç‰‡(5ä¸ª)
â”‚   â””â”€â”€ partgen/              # ğŸ”§ é›¶ä»¶ç”Ÿæˆå™¨
â”œâ”€â”€ logs/                     # ğŸ“ è¿è¡Œæ—¥å¿—
â””â”€â”€ models/                   # ğŸ¤– æ¨¡å‹æ–‡ä»¶å­˜å‚¨
```

### æŠ€æœ¯æ ˆ

**å‰ç«¯ç•Œé¢**: Gradio 5.46.1 + è‡ªå®šä¹‰CSS
**æ·±åº¦å­¦ä¹ **: PyTorch 2.8.0 + CUDA 12.8
**GPUä¼˜åŒ–**: Flash Attention 2.8.3 + torch.compile
**3Då¤„ç†**: trimesh + pymeshlab
**ç³»ç»Ÿç®¡ç†**: Bashè„šæœ¬ + è¿›ç¨‹ç›‘æ§

## âš™ï¸ é«˜çº§é…ç½®

### GPUä¼˜åŒ–é…ç½®

RTX 4090ä¸“ç”¨ä¼˜åŒ–å‚æ•°ï¼š

```python
# gpu_optimizer.py é…ç½®
config = {
    "memory_fraction": 0.9,        # ä½¿ç”¨90%æ˜¾å­˜
    "enable_flash_attention": True, # Flash Attention
    "enable_mixed_precision": True, # æ··åˆç²¾åº¦FP16
    "enable_compile": True,         # torch.compile
    "compile_mode": "reduce-overhead",
    "empty_cache_threshold": 0.8,   # 80%æ—¶æ¸…ç†ç¼“å­˜
}
```

### ç¯å¢ƒå˜é‡

```bash
# HuggingFaceé•œåƒï¼ˆå¯é€‰ï¼‰
export HF_ENDPOINT=http://hf.x-gpu.com

# CUDAè®¾å¤‡é€‰æ‹©
export CUDA_VISIBLE_DEVICES=0
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æç¤ºCUDAä¸å¯ç”¨**
```bash
# æ£€æŸ¥CUDAå®‰è£…
nvcc --version
nvidia-smi

# é‡æ–°å®‰è£…PyTorch CUDAç‰ˆæœ¬
pip install torch==2.8.0 --index-url https://download.pytorch.org/whl/cu128
```

**Q: Flash Attentionå®‰è£…å¤±è´¥**
```bash
# ä½¿ç”¨é¢„ç¼–è¯‘ç‰ˆæœ¬
pip install flash-attn==2.8.3 --no-build-isolation
```

**Q: ç«¯å£å ç”¨é”™è¯¯**
```bash
# ä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬è‡ªåŠ¨å¤„ç†
./start_app.sh --app app_optimized.py

# æˆ–æ‰‹åŠ¨æ¸…ç†
lsof -ti:7860 | xargs kill -9
```

**Q: æ˜¾å­˜ä¸è¶³**
```bash
# è°ƒæ•´å†…å­˜åˆ†é…æ¯”ä¾‹
# åœ¨gpu_optimizer.pyä¸­ä¿®æ”¹memory_fractionå‚æ•°
```

## ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•

### æµ‹è¯•ç¯å¢ƒ
- GPU: NVIDIA GeForce RTX 4090 D (24GB)
- CPU: Intel Core i9-13900K
- RAM: 64GB DDR5
- ç³»ç»Ÿ: Ubuntu 22.04

### æµ‹è¯•ç»“æœ
- **å¥³æˆ˜å£«æ¨¡å‹**: åˆ†å‰²15ç§’ + ç”Ÿæˆ45ç§’ = æ€»è®¡60ç§’
- **é«˜è¾¾æ¨¡å‹**: åˆ†å‰²12ç§’ + ç”Ÿæˆ38ç§’ = æ€»è®¡50ç§’
- **æ‘©æ‰˜è½¦æ¨¡å‹**: åˆ†å‰²18ç§’ + ç”Ÿæˆ52ç§’ = æ€»è®¡70ç§’

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueså’ŒPull Requestsï¼

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨MITåè®® - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Hunyuan3D](https://github.com/Tencent/Hunyuan3D) - åŸå§‹é¡¹ç›®åŸºç¡€
- [Flash Attention](https://github.com/Dao-AILab/flash-attention) - å†…å­˜ä¼˜åŒ–æŠ€æœ¯
- [PyTorch](https://pytorch.org/) - æ·±åº¦å­¦ä¹ æ¡†æ¶
- [Gradio](https://gradio.app/) - Webç•Œé¢æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: https://github.com/kegeai888/Hunyuan3D-Part
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/kegeai888/Hunyuan3D-Part/issues)
- **é‚®ç®±**: ihuangke22.2@gmail.com

---

**âš¡ äº«å—RTX 4090å¸¦æ¥çš„æé€Ÿ3Då¤„ç†ä½“éªŒï¼** ğŸš€
